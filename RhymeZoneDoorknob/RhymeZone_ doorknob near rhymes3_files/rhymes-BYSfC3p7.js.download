import{$ as c,i as w}from"./autocomplete-rIITTI1c.js";import"./rzadvanced-BPkQbneK.js";(function(){const a=e=>{e.value===e.defaultValue&&(e.value="",e.style.color="#000",c(".r").removeClass("r_highlight").removeClass("r_nohighlight"))},i=e=>{(e==null?void 0:e.value)===""&&(e.value=e.defaultValue,e.style.color="#888",c(".r").removeClass("r_highlight").removeClass("r_nohighlight"))},o=(e,t,n)=>!!(e[t]===1||e[t.replace(/.* /,"")]===1||t.includes(n)),r=(e,t)=>{if(!t||e.length===0)return c(".r").removeClass("r_highlight").removeClass("r_nohighlight"),0;const n=e.reduce((s,d)=>({...s,[d]:1}),{}),l=c(".r").filter((s,d)=>{const g=d.href.replace(/.*=/,"").replace(/_/g," ");return o(n,g,t)}),h=c(".r").filter((s,d)=>{const g=d.href.replace(/.*=/,"").replace(/_/g," ");return!o(n,g,t)});return l.addClass("r_highlight").removeClass("r_nohighlight"),h.addClass("r_nohighlight").removeClass("r_highlight"),l.length};document.addEventListener("DOMContentLoaded",()=>{c("#related_restrict").autocomplete({minLength:3,delay:200,source:(e,t)=>{c.ajax({dataType:"json",type:"GET",url:`${window.rzfdata.FRONTEND_DMAPI_API_ADDRESS}/words?k=rz_sug_related&max=995&ml=${encodeURIComponent(e.term)}&rel_rry=${encodeURIComponent(window.rzfdata.mq3)}`,success:n=>{const l=c.map(n,s=>s.word),h=r(l,e.term);c("#filter_res").html(h===0?"<i>No results found.</i>":`<i>${h} related words highlighted below.</i>`)}}),e.term}})}),window.inputWordHighlighterFocus=a,window.inputWordHighlighterBlur=i})();function _(a,i,o,r,e,t){var n=`${window.rzfdata.FRONTEND_DMAPI_API_ADDRESS}/words?max=100&k=rz_sl&`+o+"="+i.replaceAll("_","+");t==="enwiki"&&!o.includes("rzdef")&&(n+="*",n=n.replace("max=100","max=1000")),t&&(n+="&v="+t),c.ajax({url:n,context:document.body}).done(function(l){let h="";if(l.length>0){if(e!=""){const s=`<div class="tabheader_cnt"><span class="tabheader">${e}</span></div>`;r.insertAdjacentHTML("beforebegin",s)}}else console.log("COMP-SIMILAR-WORDS: no api results, not rendering");for(let s=0;s<l.length;s++){let d=l[s].word.replaceAll(" ","_"),g="";if(t==="enwiki"){g="https://en.wikipedia.org/wiki/"+encodeURIComponent(d);let f="_"+d.toLowerCase().replaceAll(" ","_").replaceAll("+","_")+"_",p="_"+i.toLowerCase().replaceAll(" ","_").replaceAll("+","_")+"_";if(!f.match(p))continue}else g=a+"&Word="+encodeURIComponent(d);h+='<a href="'+g+'">'+l[s].word+"</a> "}h+="",r.innerHTML=h})}function u(a){document.querySelectorAll(a).forEach(function(o){const r=o.getAttribute("data-word"),e=o.getAttribute("data-baseurl"),t=o.getAttribute("data-apifn"),n=o.getAttribute("data-restitle"),l=o.getAttribute("data-vocab");console.log(`COMP-SIMILAR-WORDS: Word: ${r}`),console.log(`COMP-SIMILAR-WORDS: Base URL: ${e}`),console.log(`COMP-SIMILAR-WORDS: API Function: ${t}`),console.log(`COMP-SIMILAR-WORDS: Resource Title: ${n}`),console.log(`COMP-SIMILAR-WORDS: Resource Vocab: ${l}`),_(e,r,t,o,n,l)})}document.addEventListener("DOMContentLoaded",function(){u(".comp-similar-words"),u(".comp-wiki-similar-words")});function m(a){const i=document.querySelector(".mainform.english-search form"),o=document.getElementById("eng-select-container"),r=document.getElementById("eng-type-select"),e=document.getElementById("eng-type-input"),t=document.getElementById("english-search-hidden");a.matches?(console.log("SFORM: small screen: show hidden input, remove select"),i.contains(r)&&(t.appendChild(r),console.log("SFORM: small screen: hiding select")),i.contains(e)||(i.appendChild(e),console.log("SFORM: small screen: showing input"))):(console.log("SFORM: large screen: show select, remove hidden input"),i.contains(e)&&t.appendChild(e),o.contains(r)||o.appendChild(r))}document.addEventListener("DOMContentLoaded",function(){const a=window.matchMedia("(max-width: 639.98px)");document.querySelector(".mainform.english-search")&&(m(a),a.addEventListener("change",m))});w(!1);
